<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>pester mini</title>
<style>
body {
  background: black;
  color: white;
  font-family: monospace;
}

#chat {
  height: 300px;
  overflow-y: auto;
  border: 2px solid white;
  padding: 10px;
}

input {
  background: black;
  color: lime;
  border: 1px solid lime;
}

button {
  background: black;
  color: cyan;
  border: 1px solid cyan;
}
</style>
</head>
<body>

<h2>pester mini</h2>

<div id="chat"></div>

<input id="name" placeholder="nickname">
<input id="message" placeholder="message">
<button onclick="send()">send</button>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
const chat = document.getElementById("chat");

function send() {
  const name = document.getElementById("name").value;
  const message = document.getElementById("message").value;
  socket.emit("chat message", name + ": " + message);
  document.getElementById("message").value = "";
}

socket.on("chat message", function(msg) {
  const div = document.createElement("div");
  div.textContent = msg;
  chat.appendChild(div);
});
</script>

</body>
</html>
